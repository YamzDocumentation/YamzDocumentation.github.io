<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>class IdPool &mdash; yamz 0.2.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="yamz 0.2.1 documentation" href="index.html" />
    <link rel="up" title="The seaice package" href="seaice.html" />
    <link rel="next" title="the user module" href="user.html" />
    <link rel="prev" title="class ConnectorPool" href="ConnectorPool.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="user.html" title="the user module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ConnectorPool.html" title="class ConnectorPool"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">yamz 0.2.1 documentation</a> &raquo;</li>
          <li><a href="seaice.html" accesskey="U">The <tt class="docutils literal"><span class="pre">seaice</span></tt> package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="class-idpool">
<h1><tt class="docutils literal"><span class="pre">class</span> <span class="pre">IdPool</span></tt><a class="headerlink" href="#class-idpool" title="Permalink to this headline">¶</a></h1>
<p>This class implements a surrogate identifier pool
for the DB tables <tt class="docutils literal"><span class="pre">SI.Terms</span></tt>, <tt class="docutils literal"><span class="pre">SI.Users</span></tt>, and <tt class="docutils literal"><span class="pre">SI.Users</span></tt>.</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<span class="target" id="module-seaice"></span><span class="target" id="module-seaice.IdPool"></span><dl class="class">
<dt id="seaice.IdPool.IdPool">
<em class="property">class </em><tt class="descclassname">seaice.IdPool.</tt><tt class="descname">IdPool</tt><big>(</big><em>db_con</em>, <em>table</em><big>)</big><a class="reference internal" href="_modules/seaice/IdPool.html#IdPool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#seaice.IdPool.IdPool" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>A thread-safe object for producing and consuming table row IDs within 
a particluar context, i.e. <tt class="docutils literal"><span class="pre">SI.Terms</span></tt>, <tt class="docutils literal"><span class="pre">SI.Users</span></tt>, and <tt class="docutils literal"><span class="pre">SI.Comments</span></tt>. 
When initialized, an instance queries the table for all assigned IDs in 
ascending order. Continuous regions of unassigned IDs are found and added 
to the pool. The highest assigned ID is noticed so that when the pool is 
empty, the producer function returns the next highest avaialble.</p>
<p><strong>TODO</strong> This could be made more space-efficient by combining contiguous 
free IDs into ranges.</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>db_con</strong> (<a class="reference internal" href="SeaIceConnector.html#seaice.SeaIceConnector.SeaIceConnector" title="seaice.SeaIceConnector.SeaIceConnector"><em>seaice.SeaIceConnector.SeaIceConnector</em></a>) &#8211; Connection to the SeaIce database.</li>
<li><strong>table</strong> (<em>str</em>) &#8211; Name of the table for which a pool will be created. The table
should have a column of surrogate ID scalled &#8220;id&#8221;.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="seaice.IdPool.IdPool.ConsumeId">
<tt class="descname">ConsumeId</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/seaice/IdPool.html#IdPool.ConsumeId"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#seaice.IdPool.IdPool.ConsumeId" title="Permalink to this definition">¶</a></dt>
<dd><p>Consume the next available ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="seaice.IdPool.IdPool.GetNextId">
<tt class="descname">GetNextId</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/seaice/IdPool.html#IdPool.GetNextId"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#seaice.IdPool.IdPool.GetNextId" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the next ID without consuming it (look ahead).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="seaice.IdPool.IdPool.ReleaseId">
<tt class="descname">ReleaseId</tt><big>(</big><em>id</em><big>)</big><a class="reference internal" href="_modules/seaice/IdPool.html#IdPool.ReleaseId"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#seaice.IdPool.IdPool.ReleaseId" title="Permalink to this definition">¶</a></dt>
<dd><p>Release and ID back into the pool (produce)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>id</strong> (<em>int</em>) &#8211; Surrogate ID.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="ConnectorPool.html"
                        title="previous chapter"><tt class="docutils literal"><span class="pre">class</span> <span class="pre">ConnectorPool</span></tt></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="user.html"
                        title="next chapter">the <tt class="docutils literal"><span class="pre">user</span></tt> module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/IdPool.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="user.html" title="the user module"
             >next</a> |</li>
        <li class="right" >
          <a href="ConnectorPool.html" title="class ConnectorPool"
             >previous</a> |</li>
        <li><a href="index.html">yamz 0.2.1 documentation</a> &raquo;</li>
          <li><a href="seaice.html" >The <tt class="docutils literal"><span class="pre">seaice</span></tt> package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>